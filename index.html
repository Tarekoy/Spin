<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer by Md Tarek</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #1e3c72, #2a5298);
            color: white;
        }
        .container {
            width: 100%;
            max-width: 400px;
            margin: auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }
        header {
            background: #ff9800;
            color: white;
            padding: 10px;
            border-radius: 10px 10px 0 0;
        }
        .earn-btn, .option-btn {
            width: 100%;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            padding: 12px;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            margin-top: 10px;
            cursor: pointer;
            transition: 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        .earn-btn::before, .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(0, 0, 0, 0.3), transparent);
            transition: 0.5s ease;
        }
        .earn-btn:hover::before, .option-btn:hover::before {
            left: 100%;
        }
        .earn-btn:hover, .option-btn:hover {
            background: linear-gradient(45deg, #2575fc, #6a11cb);
            transform: scale(1.05);
        }
        .bottom-nav {
            display: flex;
            justify-content: space-around;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-top: 2px solid #ddd;
        }
        .bottom-nav button {
            background: none;
            border: none;
            padding: 10px;
            font-size: 18px;
            color: white;
            cursor: pointer;
            transition: 0.3s ease;
        }
        .bottom-nav button:hover {
            color: #ff9800;
            transform: scale(1.1);
        }
        .page {
            display: block;
            padding: 20px;
        }
        .hidden {
            display: none;
        }
        input, select {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        #monetag-ad {
            width: 100%;
            height: 250px;
            background-color: white;
            text-align: center;
            line-height: 250px;
            margin-top: 20px;
            border-radius: 5px;
            color: black;
        }
        .profile-picture {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #ff9800;
            margin-bottom: 15px;
        }
        .profile-upload {
            margin-top: 10px;
        }
        .profile-upload input {
            display: none;
        }
        .profile-upload label {
            background: #ff9800;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s ease;
        }
        .profile-upload label:hover {
            background: #e65100;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Welcome, <span id="displayName">User</span></h1>
        </header>
        <!-- Home Page -->
        <section id="home" class="page">
            <button class="earn-btn" onclick="watchAds('https://www.effectiveratecpm.com/ytpsfbpvub?key=35e3c6b8e515325c2925382fa8400b76')">üé• Watch Ads 1</button>
            <button class="earn-btn" onclick="watchAds('https://www.effectiveratecpm.com/ngbrjbbgty?key=bf18e506e1a62ea27f04057ead04f41e')">üé• Watch Ads 2</button>
            <p>Watch ads to earn 0.4 BDT. Ads must be watched for 15 seconds to earn.</p>
            <p>free incom tips Bangla</p>
            <!-- Monetag Ad System -->
            <div id="monetag-ad">
                <script src='//whephiwums.com/sdk.js' data-zone='8986104' data-sdk='show_8986104'></script>
            </div>
        </section>
        <!-- Earn Page -->
        <section id="earn" class="page hidden">
            <h2>Earn</h2>
            <button class="option-btn" onclick="subscribeEarn()">üì∫ YouTube Channel (Earn 0.3‡ß≥)</button>
            <button class="option-btn" onclick="window.open('https://t.me/freeincomTipsBangla', '_blank')">üí¨ Telegram Channel</button>
            <button class="option-btn" onclick="showPage('withdraw')">üí≥ Withdraw</button>
        </section>
        <!-- Withdraw Page -->
        <section id="withdraw" class="page hidden">
            <h2>Withdraw</h2>
            <p>Minimum Withdrawal: <strong>100 BDT</strong></p>
            <label>Withdrawal Method</label>
            <select id="withdrawMethod">
                <option value="Bkash">Bkash</option>
                <option value="Nagad">Nagad</option>
            </select>
            <label>Amount</label>
            <input type="number" id="withdrawAmount" placeholder="Enter amount">
            <label>Withdrawal Number</label>
            <input type="text" id="withdrawNumber" placeholder="Enter wallet number">
            <button class="earn-btn" onclick="submitWithdraw()">Submit Withdrawal</button>
            <p id="withdrawMessage" style="color: red;"></p>
        </section>
        <!-- Profile Page -->
        <section id="profile" class="page hidden">
            <h2>Profile</h2>
            <!-- Profile Picture -->
            <div class="profile-picture-container">
                <img id="profilePicture" src="https://via.placeholder.com/100" alt="Profile Picture" class="profile-picture">
                <div class="profile-upload">
                    <input type="file" id="uploadProfile" accept="image/*" onchange="uploadProfilePicture(event)">
                    <label for="uploadProfile">Upload Picture</label>
                </div>
            </div>
            <!-- User Info -->
            <p>Name: <strong id="userName">User</strong></p>
            <p>Total Tasks: <strong id="taskCount">0</strong></p>
            <p>Completed Tasks: <strong id="completedTasks">0</strong></p>
            <p>Balance: <strong id="balance">0‡ß≥</strong></p>
            <p>Referral Count: <strong id="referralCount">0</strong></p>
            <!-- Referral Link -->
            <p>Your Referral Link:</p>
            <input type="text" id="referralLink" readonly>
            <button class="earn-btn" onclick="copyReferral()">üìã Copy Link</button>
            <button class="option-btn" onclick="shareReferral()">üì¢ Share</button>
        </section>
        <!-- Navigation -->
        <nav class="bottom-nav">
            <button onclick="showPage('home')">üè† Home</button>
            <button onclick="showPage('earn')">üí∞ Earn</button>
            <button onclick="showPage('withdraw')">üí≥ Withdraw</button>
            <button onclick="showPage('profile')">üë§ Profile</button>
        </nav>
    </div>
    <script>
        let balance = parseFloat(localStorage.getItem("balance")) || 0;
        let completedTasks = parseInt(localStorage.getItem("completedTasks")) || 0;
        let referralCount = parseInt(localStorage.getItem("referralCount")) || 0;
        let userName = localStorage.getItem("userName") || "User";
        let profilePicture = localStorage.getItem("profilePicture") || "https://via.placeholder.com/100";

        // Update UI on load
        document.getElementById("balance").innerText = balance + "‡ß≥";
        document.getElementById("completedTasks").innerText = completedTasks;
        document.getElementById("referralCount").innerText = referralCount;
        document.getElementById("userName").innerText = userName;
        document.getElementById("displayName").innerText = userName;
        document.getElementById("profilePicture").src = profilePicture;

        // Watch Ads Function
        function watchAds(url) {
            let adWindow = window.open(url, '_blank');
            let adTimer = setTimeout(() => {
                balance += 0.4; // 0.4‡ß≥ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá
                localStorage.setItem("balance", balance);
                document.getElementById("balance").innerText = balance + "‡ß≥";
                alert("‚úÖ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏‡ßá 0.4‡ß≥ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!");
            }, 15000); // 15 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°

            // Check if user leaves the ad page
            window.onblur = () => {
                clearTimeout(adTimer); // Cancel the timer if user leaves
                adWindow.close(); // Close the ad window
                alert("‚ùå ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßá‡¶®‡¶®‡¶ø‡•§ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá ‡¶®‡¶æ‡•§");
            };
        }

        // Show Page Function
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
            document.getElementById(page).classList.remove('hidden');
        }

        // Subscribe and Earn Function
        function subscribeEarn() {
            completedTasks += 1;
            balance += 0.3;
            localStorage.setItem("completedTasks", completedTasks);
            localStorage.setItem("balance", balance);
            document.getElementById("completedTasks").innerText = completedTasks;
            document.getElementById("balance").innerText = balance + "‡ß≥";
            alert("‡¶Ü‡¶™‡¶®‡¶ø YouTube ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßá 0.3‡ß≥ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®!");
        }

        // Withdraw Function
        async function submitWithdraw() {
            let amount = parseFloat(document.getElementById("withdrawAmount").value);
            let number = document.getElementById("withdrawNumber").value;
            let method = document.getElementById("withdrawMethod").value;
            let message = document.getElementById("withdrawMessage");

            let validBkash = /^01[3-9]\d{8}$/; // Bkash / Nagad Valid Number Format

            if (amount < 100) {
                message.innerText = "‚ùå Minimum withdraw is 100 BDT!";
            } else if (!validBkash.test(number)) {
                message.innerText = "‚ùå Invalid Phone Number!";
            } else if (amount > balance) {
                message.innerText = "‚ùå Not enough balance!";
            } else {
                // Send withdraw request to Telegram bot
                const botToken = "7583474160:AAEWPYqukD09ewDKwmCzwdgUELrRqXIgaKg";
                const chatId = "YOUR_CHAT_ID"; // Replace with your chat ID
                const text = `Withdraw Request:\nAmount: ${amount}‡ß≥\nMethod: ${method}\nNumber: ${number}`;

                try {
                    const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ chat_id: chatId, text }),
                    });

                    if (response.ok) {
                        balance -= amount;
                        localStorage.setItem("balance", balance);
                        document.getElementById("balance").innerText = balance + "‡ß≥";
                        message.style.color = "green";
                        message.innerText = "‚úÖ Withdraw Successful!";
                        alert("Your withdraw request has been submitted!");
                    } else {
                        message.innerText = "‚ùå Failed to send request. Try again.";
                    }
                } catch (error) {
                    message.innerText = "‚ùå Network error. Try again.";
                }
            }
        }

        // Upload Profile Picture
        function uploadProfilePicture(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById("profilePicture").src = e.target.result;
                    localStorage.setItem("profilePicture", e.target.result);
                };
                reader.readAsDataURL(file);
            }
        }

        // Generate Referral Link
        function generateReferralLink() {
            let referralLink = `https://t.me/Monetagddbot`;
            document.getElementById("referralLink").value = referralLink;
        }

        // Copy Referral Link
        function copyReferral() {
            let referralInput = document.getElementById("referralLink");
            referralInput.select();
            document.execCommand("copy");
            alert("‚úÖ Referral link copied!");
        }

        // Share Referral Link
        function shareReferral() {
            let referralLink = document.getElementById("referralLink").value;
            let shareText = `üöÄ Join & Earn! Use my referral link: ${referralLink}`;
            if (navigator.share) {
                navigator.share({
                    title: "Join & Earn!",
                    text: shareText,
                    url: referralLink
                });
            } else {
                alert("‚ùå Sharing not supported. Copy the link manually.");
            }
        }

        // On Page Load
        document.addEventListener("DOMContentLoaded", function () {
            generateReferralLink();
        });
    </script>
</body>
    </html>
